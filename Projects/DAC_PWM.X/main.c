#include "mcc_generated_files/mcc.h"
#include <math.h>

const uint16_t duty[321]={
    703, 700, 699, 706, 712, 671, 635, 652,
    717, 769, 749, 665, 591, 601, 691, 782,
    783, 685, 573, 552, 647, 773, 811, 719,
    576, 513, 592, 744, 827, 759, 597, 488,
    534, 697, 826, 798, 633, 480, 480, 636,
    806, 830, 680, 491, 436, 568, 767, 848,
    731, 520, 407, 498, 711, 849, 781, 565,
    397, 432, 640, 829, 822, 620, 407, 378,
    561, 788, 848, 681, 438, 340, 479, 727,
    855, 741, 486, 322, 401, 650, 840, 792,
    547, 327, 334, 563, 801, 828, 614, 354,
    285, 471, 740, 843, 682, 400, 256, 382,
    661, 836, 741, 462, 251, 302, 568, 802,
    787, 532, 270, 239, 469, 745, 812, 605,
    310, 197, 369, 666, 813, 671, 368, 179,
    278, 571, 787, 724, 437, 186, 200, 465,
    734, 758, 510, 215, 143, 356, 657, 766,
    579, 264, 108, 251, 560, 746, 635, 324,
    96, 157, 447, 695, 670, 389, 106, 77,
    323, 613, 675, 445, 127, 7, 186, 488,
    606, 488, 186, 7, 127, 445, 675, 613,
    323, 77, 106, 389, 670, 695, 447, 157,
    96, 324, 635, 746, 560, 251, 108, 264,
    579, 766, 657, 356, 143, 215, 510, 758,
    734, 465, 200, 186, 437, 724, 787, 571,
    278, 179, 368, 671, 813, 666, 369, 197,
    310, 605, 812, 745, 469, 239, 270, 532,
    787, 802, 568, 302, 251, 462, 741, 836,
    661, 382, 256, 400, 682, 843, 740, 471,
    285, 354, 614, 828, 801, 563, 334, 327,
    547, 792, 840, 650, 401, 322, 486, 741,
    855, 727, 479, 340, 438, 681, 848, 788,
    561, 378, 407, 620, 822, 829, 640, 432,
    397, 565, 781, 849, 711, 498, 407, 520,
    731, 848, 767, 568, 436, 491, 680, 830,
    806, 636, 480, 480, 633, 798, 826, 697,
    534, 488, 597, 759, 827, 744, 592, 513,
    576, 719, 811, 773, 647, 552, 573, 685,
    783, 782, 691, 601, 591, 665, 749, 769,
    717, 652, 635, 671, 712, 706, 699, 700,
    703
};

void main(void)
{
    SYSTEM_Initialize();
    while(1)
    {
        uint16_t i;
        for(i=0; i<321; i++)
        {
            EPWM1_LoadDutyValue(duty[i]);
            __delay_ms(1);
        }
        //EPWM1_LoadDutyValue(0);
        //__delay_ms(10);
    }
}